<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Main â€“ Horizontal Scroll</title>
    <link rel="stylesheet" href="css/main.css" /> 
    <link rel="stylesheet" href="jqueryUI/jquery-ui.css" />
    <link rel="stylesheet" href="jqueryUI/jquery-ui.structure.css" /> 
    <link rel="stylesheet" href="jqueryUI/jquery-ui.theme.css" /> 
    <script defer src="js/shows.js"></script>
    <script defer src="js/script.js"></script>


  </head>
  <body>
    <!-- Nav bar -->
    <section class="nav">
      <a href="./index.html"> <h3> HOME </h3> </a>
      <a href="./main.html" class="current-page"> <h3> ARCHIVE </h3> </a>
      <a href="./about.html"> <h3> ABOUT </h3> </a>
    </section>
    <hr>

    <div id="popup-content">
      <p>Go back in time to the ...</p>
    </div>

    <!-- Side, horizontal scrolling -->
      <div class="container">
        <!-- Sticky side bar -->

        <div class= "sticky-sidebar">
          <div id="top-sidebar">
            <h3> INSTRUCTIONS </h3>
            <p class="description">HOW TO USE</p>
          </div>

          <div id="sidebar-container">
            <div id="sidebar-contents">
              <p> Click, or Drag/Drop the shows here to learn more about them. </p>

            </div>
            <button type="button" class="mainButton">CLEAR SELECTION</button>


          </div>


          </div>

        <div id = "show-list">
          <template id="show-template">
            <div class="showItem" data-year= "" data-description= "">
              <img class="show" src="" alt="" style="float: left" width=236px>
            </div>
            </template>
    
          </div>
        </div>


    </div>
   


  </body>

  <!-- JQUERY CODE -->
  <script src="js/jquery.js" type="text/javascript"></script>
  <script src="jqueryUI/jquery-ui.js" type="text/javascript"></script>

  <script>
    $(function() {
    // Customizable { }   
    $(".showItem").draggable({ 
      cursor: "grabbing",
      opacity: 0.85,

      grid: [50,50],
      containment: 'window',
      stop: function(event, ui) {
      $(this).css({opacity: 1});
      },

      drag: function(event, ui) {
      // Remove from all elements
      $(".showItem").removeClass("showItem-active");
      // Add to clicked element  
      $(this).addClass("showItem-active");
  }

    });

    $(".showItem").draggable({ revert: true });


    // Hover Interaction
  $('.showItem').hover(function() {
    $(this).css({opacity: 0.65});
  }, function() {
    $(this).css({opacity: 1});

  });

  // Click Interaction
  $('.showItem').click(function(event) {
  // Get the data attributes from the draggable element
  var titleId = $(this).data('title');
  var yearId = $(this).data('year');
  var descriptionId = $(this).data('description');

  // remove from all elements
  $(".showItem").removeClass("showItem-active");
  // add to clicked element  
  $(this).addClass("showItem-active");       

  // Update the sidebar and header text
  $(".sticky-sidebar")
    .addClass("ui-state")
    .find("p")
    .html(descriptionId);

  $(".sticky-sidebar").find("h3")
    .html(titleId);

  $(".sticky-sidebar").find("p.description")
    .html(yearId);

    // p class="description"

  // $('mainButton')
  //   .find(p)
  //     .css("red");
});

  $('.mainButton').click(function(event) {
    handleDropOver.call(this, event, ui, '.container', 'h3', 'p');

    });


  $(".sticky-sidebar").droppable({
    
    drop: function(event, ui) {
      // gets the draggable object
      var draggableElement = ui.draggable;
      // extract panelId, variable from object
      var titleId = draggableElement.data('title');
      var yearId = draggableElement.data('year');
      var descriptionId = draggableElement.data('description');

      $(this)
      .addClass("ui-state") 
        .find("p")
          .html(descriptionId);

      $(this)
      .find("h3")
        .html(titleId);
      },

      over: function(event, ui) {
        handleDropOver.call(this, event, ui, '.container', 'h3', 'p');
      }

    });
  } );



  function handleDropOver(event, ui, containerSelector, headerSelector, textSelector) {
  // Remove highlight class and update text color and content
  $(this).removeClass("ui-state")
         .find(textSelector)
         .html("DROP THE SHOW HERE!")
         .css({
           color: "white"
         });

  // Update the header text
  $this.find(headerSelector).html("LOADING SHOW CONTENT...");
}


  </script>

</html>